<!doctype html>
<html lang="en">

<head>
	<!-- ******************************************Required meta tags **********************************************************-->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<meta name="author" content="TBM" />
	<meta name="description" content="CIFO La Violeta">
	<meta name="keywords" content="formacion, SOC, CIFO, formación digital" />

	<!-- *********************************************Bootstrap CSS *************************************************************-->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<!-- Fonts CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- Custom CSS -->
	<link rel="stylesheet" href="css/cifo.css">
	<link rel="icon" href="img/favicon.ico" type="image/gif" sizes="16x16">
	<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
	<title>Centres del CIFO</title>
</head>

<body class="container-fluid">
	<div data-include="Nav.html"></div>
	<div data-include="Header.html"></div>


	<div class="row m-0 mb-2">
		<div class="col-12 pt-3">
			<h3>Centros</h3>
		</div>
	</div>
	<div class="container">

		<div class="row  m-0 pb-3 d-flex" id="centroShow"></div>
	</div>







	<div data-include="Footer.html"></div>


	<!-- *****************************************   Optional JavaScript ************************************************************-->
	<!-- *****************************************   jQuery first, then Popper.js, then Bootstrap JS ********************************-->

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" type="text/javascript"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" type="text/javascript"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" type="text/javascript"></script>
	<script src="js/multipage.js" type="text/javascript"></script>
  <script  type="text/javascript">


// ************************************************ llamada AJAX XMLHttpRequest ********************************************************
		var xhr;
		xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function() {

			if (xhr.readyState == 4 && xhr.status == 200) {
				var objCentro = JSON.parse(xhr.responseText);
				document.getElementById('centroShow').innerHTML = '';
				for (i in objCentro.records) {
// ************************************************  Relleno variable via API **********************************************************
					var centrosCad = '' +
						'<div class="col-12 col-md-6 col-lg-4 pb-3">' +
							'<div class="card h-100 justify-content-center">' +
								'<img src="' + objCentro.records[i].media + '" class="card-img-top" alt="...">' +
								'<div class="card-body">' +
									'<h5 class="card-title text-primary">' + objCentro.records[i].nombre + '</h5>' +
									'<ul class="list-unstyled small">' +
										'<li><span class="fa fa-phone"></span>' + objCentro.records[i].telefono + '</li>' +
										'<li><span class="fa fa-envelope"></span>' + objCentro.records[i].buzon + '</li>' +
										'<li><i class="fa fa-clock-o" aria-hidden="true"></i>' + objCentro.records[i].horario + '</li>' +
										'<li><span class="fa fa-map-marker"></span>' + objCentro.records[i].direccion + '</li>' +
										'<li><br></li>' +
										'<li><span class="fa fa-road"></span>' + objCentro.records[i].acceso + '<ul>' +
										'<li>Bus: 60, H4, V15, bus barrio 124</li>' +
										'<li>Metro: Vall dHebron + bus / Metro: Penitents + bus 124 < /li>' +
										'<li>Coche: Ronda de Encima de B20, salida 6 (Vallcarca)</li>' +
									'</ul>' +

								'</div>' +
								'<div class="text-center">' +
									'<a href="#" class="btn bg-custom text-light">Más Información</a>' +
								'</div>' +
							'</div>' +
						'</div>';
					document.getElementById("centroShow").innerHTML += centrosCad;

				}
			}
	 }
// ******************************************************   llamada  GET a La API *********************************************************


		xhr.open('GET', 'http://app.cifo.local/api/public/formacion/centros/', true);
		xhr.send();

	</script>
</body>

</html>
